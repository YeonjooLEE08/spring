<%@ page language="java" contentType="text/html; charset=UTF-8"
    pageEncoding="UTF-8"%>
<%@ taglib prefix="c" uri="http://java.sun.com/jsp/jstl/core"%>
<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8">
<title>Insert title here</title>
<link href="/resources/css/member/book_planer.css" rel="stylesheet">
<link href="/resources/css/common/infoBar.css" rel="stylesheet">

<style type="text/css">
.tracking-in-expand {
	animation: tracking-in-expand 1s cubic-bezier(0.215, 0.610, 0.355, 1.000) both;
}
/* ----------------------------------------------
 * Generated by Animista on 2022-5-16 2:50:54
 * Licensed under FreeBSD License.
 * See http://animista.net/license for more info. 
 * w: http://animista.net, t: @cssanimista
 * ---------------------------------------------- */

/**
 * ----------------------------------------
 * animation tracking-in-expand
 * ----------------------------------------
 */
@keyframes tracking-in-expand {
  0% {
    letter-spacing: -0.5em;
    opacity: 0;
  }
  40% {
    opacity: 0.6;
  }
  100% {
    opacity: 1;
  }
}

.btn-outline-success{
	background-color: #fff;
}

</style>
</head>
<body>

<div class="container">
	<div class="subTit">
      <div class="line_map">í™ˆ > ë§ˆì´í˜ì´ì§€ > ë¶ì ë¶ì </div>
      <div class="tit">ë¶ì ë¶ì  <i class="fa-regular fa-circle-question"></i></div>
   </div>
<div class="bookPlaner-top">
	<div class="bookPlaner-top-left">
		<div>${loginInfo.memName }ë‹˜ì˜ ì·¨í–¥ ë¶„ì„!</div>
		<div>
			<span class="tracking-in-expand"></span>
			<span class="tracking-in-expand"></span>
			<span class="tracking-in-expand"></span>
		</div>
		<div>ë‚˜ì˜ ì™„ë… ë„ì„œ ì¹´í…Œê³ ë¦¬ TOP</div>
		<div class="myTopThree-div">
			<c:forEach items="${myTopThree }" var="top" >
				<div>
					<span>${top.cateInfo.cateName }</span>
					<span> (${top.cnt }ê¶Œ)</span>
				</div>
			</c:forEach>
		</div>
		
		<div>
			<div>
				ì½ì„ ë§Œí•œ ì±… ëœë¤ ì¶”ì²œğŸ€
			</div>
			í´ë¦­í•˜ë©´ í•´ë‹¹ ë„ì„œ ìƒì„¸ í˜ì´ì§€ë¥¼ ë³¼ ìˆ˜ ìˆì–´ìš”!
			<div>
				<c:forEach items="${rcdList }" var="rcd">
					<div onclick="location.href='/book/bookDetail?bookCode=${rcd.bookCode }';">ğŸ¤ ${rcd.bookInfo.title }</div>
				</c:forEach>
			</div>
		</div>
	</div>
	<div class="bookPlaner-top-right">
		<div class="myChartDiv">
			<canvas id="myChart"></canvas>
		</div>
	</div>
	
</div>
<div class="bookJ">
	<div>
		<span>ë‚˜ì˜ ë…ì„œ ê¸°ë¡</span>
		<div>
			<div>
				<button class="btn btn-sm btn-outline-success" onclick="window.open('/member/favChk', 'ë‚´ ì·¨í–¥', 'scrollbars=yes,resizable=no width=700 height=500, left=0,top=0'); return false">ìŒ“ì•„ë³´ê¸°</button>
			</div>
			<div>
				<button class="btn btn-sm btn-outline-success"  onclick="location.href='/member/bookPlanerForm';" >ê¸°ë¡í•˜ê¸°</button>
			</div>
		</div>
	</div>
	<div class="complitBookList-table">
		<table class="table table-hover table-border text-center">
			<thead>
			<tr>
				<td>ì™„ë… ë„ì„œëª…</td>
				<td>ê¸°ë¡ì¼</td>
			</tr>
			</thead>
			<tbody>
			<c:choose>
				<c:when test="${empty complitBookList }">
					<tr>
						<td>${loginInfo.memName }ë‹˜ì˜ ì²« ë²ˆì§¸ ì™„ë… ë„ì„œë¥¼ ë“±ë¡í•´ ë³´ì„¸ìš”!</td>
					</tr>
				</c:when>
				<c:otherwise>
					<c:forEach items="${complitBookList }" var="complitBook">
						<tr>
							<td onclick="location.href='/member/bookPlanerDetail?memId=${loginInfo.memId}&bookCode=${complitBook.bookCode }&complitCode=${complitBook.complitCode }';">
								${complitBook.bookInfo.title }</td>
							<td>${complitBook.complitDate }</td>
						</tr>
						
					</c:forEach>
				</c:otherwise>
			</c:choose>
			</tbody>
		</table>
	
	</div>
</div>
<c:forEach items="${chartList }" var="chart">
	<input class="bookCategory" type="hidden" value="${chart.cateInfo.cateName }">
	<input class="cnt" type="hidden" value="${chart.cnt }">
</c:forEach>
</div>

<script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/Chart.js/3.7.1/chart.min.js"></script>
<script type="text/javascript" src="/resources/js/member/book_planer.js?ver=26"></script>
</body>
</html>

